(this["webpackJsonpstar-wars-app"]=this["webpackJsonpstar-wars-app"]||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r,c=n(1),i=n(0),a=n.n(i),s=n(9),o=n.n(s),l=(n(22),n(23),n(24),n(4)),d=n(6),u=n(2),j=n(7),p=n.n(j),b=n(10),h=n(5),f=Object(h.b)("people/getPeopleList",function(){var e=Object(b.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t&&t.replace("http:","https:")||"https://swapi.dev/api/people/");case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,console.log("response : ",r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=Object(h.c)({name:"people",initialState:{status:"ready",count:0,results:[]},reducers:{list:function(e,t){return console.log("people list action : ",t),t.payload}},extraReducers:(r={},Object(d.a)(r,f.pending.type,(function(e,t){return Object(u.a)(Object(u.a)({},e),{},{status:"Loading..."})})),Object(d.a)(r,f.fulfilled.type,(function(e,t){return console.log("getPeopleList.fulfilled: ",t),Object(u.a)(Object(u.a)({},e),{},{status:"ok"},t.payload)})),Object(d.a)(r,f.rejected.type,(function(e,t){return console.error("getPeopleList.rejected: ",t),Object(u.a)(Object(u.a)({},e),{},{status:"Error"},t.payload)})),r)}),x=(O.actions.list,O.reducer),m={name:"",height:"",mass:"",url:"",gender:"",birth_year:"",films:[]},v=Object(h.c)({name:"person",initialState:m,reducers:{update:function(e,t){return t.payload},clear:function(e){return m}}}),g=v.actions,y=g.update,w=(g.clear,v.reducer);var L=function(e){var t=Object(l.c)((function(e){return e.people})),n=Object(l.b)();return Object(i.useEffect)((function(){n(f())}),[]),Object(c.jsxs)("table",{className:"people",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Name"}),Object(c.jsx)("th",{children:"Height"}),Object(c.jsx)("th",{children:"Mass"})]})}),Object(c.jsx)("tbody",{children:t.results.map((function(e,t){return Object(c.jsxs)("tr",{onClick:function(){n(y(e))},children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.height}),Object(c.jsx)("td",{children:e.mass})]},t)}))}),Object(c.jsx)("tfoot",{children:Object(c.jsx)("tr",{children:Object(c.jsxs)("td",{colSpan:3,children:[t.status," ","Pagination: "," ",t.previous&&Object(c.jsx)("a",{href:"#",onClick:function(){n(f(t.previous))},children:"Back"})," ",t.next&&Object(c.jsx)("a",{href:"#",onClick:function(){n(f(t.next))},children:"Next"})]})})})]})},k=(n(32),n(16)),I={},F=Object(h.c)({name:"films",initialState:I,reducers:{addToList:function(e,t){console.log("Film addToList at index ::: ",t.payload.indexId);var n={};return n[t.payload.indexId]=t.payload.data,Object(u.a)(Object(u.a)({},e),n)},removeFromList:function(e,t){console.log("Film removeFromList at index ::: ",t.payload.indexId);var n={};return n[t.payload.indexId]=void 0,Object(u.a)(Object(u.a)({},e),n)},resetList:function(e,t){return I}}}),N=F.actions,S=N.addToList,B=(N.resetList,N.removeFromList),E=F.reducer;var P=function(e){var t=Object(i.useState)({title:"loading..."}),n=Object(k.a)(t,2),r=n[0],a=n[1],s=Object(l.b)(),o=function(){var t=Object(b.a)(p.a.mark((function t(n){var r,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(n.replace("http:","https:"));case 3:return r=t.sent,t.next=6,r.json();case 6:c=t.sent,a(c),s(S({indexId:e.indexId,data:c})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("getFilm err : ",t.t0);case 14:return t.prev=14,console.log("getFilm finally : "),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})));return function(e){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){return o(e.url),function(){s(B({indexId:e.indexId}))}}),[]),Object(c.jsx)("li",{className:"film-details",children:r.title})};var T=function(e){var t=Object(l.c)((function(e){return e.person}));return Object(l.c)((function(e){return e.films})),Object(c.jsxs)("div",{className:"person-details",children:[Object(c.jsx)("h3",{children:"Details Section"}),Object(c.jsxs)("div",{children:["Name: ",t.name]}),Object(c.jsxs)("div",{children:["Birth year: ",t.birth_year]}),Object(c.jsxs)("div",{children:["Gender: ",t.gender]}),Object(c.jsx)("div",{children:"List of films:"}),Object(c.jsx)("ul",{children:t.films.map((function(e,t){return Object(c.jsx)(P,{indexId:t,url:e},t)}))})]})};var C=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("h2",{children:"Table with list of people"}),Object(c.jsx)(L,{}),Object(c.jsx)(T,{})]})},J=n(8),M=Object(h.a)({reducer:{people:x,person:w,films:E},middleware:[J.a]});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(l.a,{store:M,children:Object(c.jsx)(C,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.5271bdfe.chunk.js.map